[戻る](java_game.md)

# 基本概念

## 概要
- 基本文法を学ぶだけではゲームは作れない
- ゲームの作り方を知る必要がある

## 目次
- 必要な処理
- アニメーション
- ゲームループ
- FPS

## 必要な処理
- `テトリス`を例にゲームに必要な処理考えてみる
	- まず初めにゲーム画面(ウィンドウ)が表示される
	- ブロックやスコア, 次に降ってくるブロックが画面に描画される
	- キーボードの入力に応じてブロックを動かせる
	- プレイヤーの入力にかかわらず一定の時間が過ぎるとブロックは落下する
- ここでゲームに必要な処理をまとめる
	- ウィンドウの表示
	- キー入力の判定
	- アニメーション

## アニメーション
- ぱらぱら漫画をイメージする
- 画像を少しずつ変化させてそれを繰り返し描画する
	- 一枚一枚の絵を`フレーム`という
- プログラミングでどのように実装するか
	+ 更新と描画を組み合わせる
- たとえば
	- ブロックのy座標を少しずつ更新
	- それに合わせて描画を行う
	- すると, ブロックが落下しているようにアニメーションが行われる
- つまりアニメーションは`更新`と`描画`の処理に細分化できる
- この処理をループさせることで常に情報の更新を行う

## ゲームループ
- ゲーム全体の動作に関する基本的な概念
- 3つのステップをループさせる
	- 入力処理
		- プレイヤーの入力を取得する
	- 状態の更新
		- オブジェクトの位置や状態, スコアなどを更新する
	- レンダリング
		- 描画を行う
- これらのステップが連続して繰り返されることで, リアルタイムで動くゲームが実現する

## FPS
- ゲームループをそのまま実行すると高速に処理が行われる
- 負荷を下げるために意図的に処理をスリープさせる
- スリープ時間が長いほどアニメーションが, かくついて見えるが負荷を抑えられる
- 短いほど滑らかに見えるが負荷がかかる
- スリープ時間によって求まる, 1秒間に処理させるゲームループの回数を`フレームレート`といい, `fps`という単位であらわす
	- **f**rame **p**er **s**ec
- たとえばスリープ時間を`33`[ms]とすると, 1[s] / 33[ms] = 1000[ms] / 33[ms] = 30.3...[fps]となる
- ゲームループを実装する際には厳密にはスリープの処理が必要になる
	- 入力処理
	- 状態の更新
	- レンダリング
	- スリープ

## まとめ
- ウィンドウを表示し, ゲームループを実装することがゲーム作成の第一歩